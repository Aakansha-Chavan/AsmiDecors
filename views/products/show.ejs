<% layout("/layouts/boilerplate.ejs") %>

<script>
    // This line defines a JavaScript variable in the browser,
    // using the value passed from the server (app.js)
    const WHATSAPP_NUMBER = "<%= whatsappNumber %>";
    const DECORATION_TITLE = "<%= decoration.title %>"; 
</script>


<div class="row mt-3">
    <div class="col-8 offset-3">
        <h3><%= decoration.title %></h3>
    </div>

    <div class="card listing-card col-6 offset-3 show-card"  >
        <img src="<%= decoration.imageUrl %>" class="card-img-top show-img" alt="decoration-image">
        <div class="card-body">
            
            <p class="card-text">
            <%=decoration.description %></p>
            
            <!-- Combined Size and Price Section -->
            <div class="size-price-selection">
                <label for="size-select">Select Size:</label>
                <select id="size-select">
                    <% decoration.sizes.forEach(function(sizeOption) { %>
                        <option 
                            value="<%= sizeOption.price %>" 
                            data-size-name="<%= sizeOption.size %>">
                            <%= sizeOption.size %> 
                        </option>
                    <% }); %>
                </select>
                
                <!-- Display Area for the Price - Initialized with smallest size price -->
                <span id="current-price-display">
                    Rs. <%= decoration.sizes.length > 0 ? decoration.sizes[0].price : 'N/A' %>
                </span>
            </div>

             <hr>

            <!-- Book via WhatsApp Link/Button -->
            <a href="#" id="whatsapp-book-link">Book via WhatsApp</a>
            
        
        </div>
    </div>

</div>